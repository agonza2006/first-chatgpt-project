<style>
  .faq-container {
  margin: 0 auto;
  padding: 3rem 1.5rem;
  max-width: 1200px;
  }

  .faq-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0;
  }

  .faq-item {
  padding: 2rem;
  background-color: #1e1e1e00;
  color: #fff;
  border: 1px solid #333;
  border-radius: 0;
  }

  .faq-item h3 {
  margin-bottom: 1rem;
  font-family: Cinzel;
  font-size: 18px;
  font-weight: 400;
  line-height: 26px;
  text-align: left;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 1);
  }

  .faq-item p {
  color: rgba(129, 128, 126, 1);
  font-size: 16px;
  font-weight: 400;
  line-height: 24px;
  text-align: left;
  text-transform: uppercase;
  font-family: Cinzel;
  }

  .faq-tabs-container {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 3rem;
  }

  .faq-title{
  font-family: 'Cinzel';
  font-size: 48px;
  font-weight: 400;
  line-height: 69.98px;
  text-align: center;
  }

  .faq-tab-button {
  cursor: pointer;
  background-color: transparent;
  color: rgba(194, 180, 163, 1);
  transition: background-color 0.3s ease, transform 0.3s ease;
  padding: 12px 25px 12px 25px;
  border-radius: 12px;
  border: 1px solid rgba(51, 51, 51, 1);
  font-size: 16px;
  font-weight: 400;
  line-height: 27px;
  text-align: center;
  font-family:Roboto mono
  }

  .faq-tab-button.active {
  color: black;
  background: rgba(194, 180, 163, 1);
  }


  .faq-tab-content {
  display: none;
  }

  .faq-tab-content.active {
  display: block;
  }

  .dots-container {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 20px;
  }

  .dot {
  width: 35px;
  height: 6px;
  border-radius: 17px;
  background: #0000001a;
  transition: background-color 0.4s ease;
  }

  .dot.active {
  background-color: #000;
  }

  @media screen and (max-width: 990px) {

  .faq-grid {
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  margin-bottom: 2rem;
  scrollbar-width: none;
  scrollbar-width: none;
  }
  .faq-grid::-webkit-scrollbar {
  display: none;
  }
  .faq-item {
  scroll-snap-align: start;
  width: 100%;
  flex: 0 0 100%;
  }
  .faq-tabs-container {
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  margin-bottom: 2rem;
  scrollbar-width: none;
  justify-content: flex-start;
  scrollbar-width: none;
  }

  .faq-tabs-container::-webkit-scrollbar {
  display: none;
  }
  .dots-container {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 20px;
  }

  .dot {
  display: block !important;
  width: 10px;
  height: 10px;
  border-radius: 50px;
  background: #0000001a;
  transition: background-color 0.4s ease;
  border: 1px solid white;
  }

  .dot.active {
  display:block!important;
  background-color: white;
  }

  .faq-grid {
  gap: 0;
  }
  }
</style>

<div class="faq-container">
  <h1 class="faq-title">{{ section.settings.title }}</h1>
  <h2 class="faq-subtitle">{{ section.settings.subtitle }}</h2>

  <div class="faq-tabs-container">
    {% for block in section.blocks %}
      <button class="faq-tab-button {% if forloop.first %}active{% endif %}" data-tab="tab-{{ block.id }}">
        {{ block.settings.tab_title }}
      </button>
    {% endfor %}
  </div>

  {% for block in section.blocks %}
    <div id="tab-{{ block.id }}" class="faq-tab-content {% if forloop.first %}active{% endif %}">
      <div class="faq-grid">
        {% if block.settings.heading_1 == blank and block.settings.text_1 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_1 %}
              <h3>{{ block.settings.heading_1 }}</h3>
            {% endif %}
            {% if block.settings.text_1 %}
              <p>{{ block.settings.text_1 }}</p>
            {% endif %}
          </div>
        {% endif %}

        {% if block.settings.heading_2 == blank and block.settings.text_2 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_2 %}
              <h3>{{ block.settings.heading_2 }}</h3>
            {% endif %}
            {% if block.settings.text_2 %}
              <p>{{ block.settings.text_2 }}</p>
            {% endif %}
          </div>
        {% endif %}

        {% if block.settings.heading_3 == blank and block.settings.text_3 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_3 %}
              <h3>{{ block.settings.heading_3 }}</h3>
            {% endif %}
            {% if block.settings.text_3 %}
              <p>{{ block.settings.text_3 }}</p>
            {% endif %}
          </div>
        {% endif %}

        {% if block.settings.heading_4 == blank and block.settings.text_4 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_4 %}
              <h3>{{ block.settings.heading_4 }}</h3>
            {% endif %}
            {% if block.settings.text_4 %}
              <p>{{ block.settings.text_4 }}</p>
            {% endif %}
          </div>
        {% endif %}

        {% if block.settings.heading_5 == blank and block.settings.text_5 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_5 %}
              <h3>{{ block.settings.heading_5 }}</h3>
            {% endif %}
            {% if block.settings.text_5 %}
              <p>{{ block.settings.text_5 }}</p>
            {% endif %}
          </div>
        {% endif %}

        {% if block.settings.heading_6 == blank and block.settings.text_6 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_6 %}
              <h3>{{ block.settings.heading_6 }}</h3>
            {% endif %}
            {% if block.settings.text_6 %}
              <p>{{ block.settings.text_6 }}</p>
            {% endif %}
          </div>
        {% endif %}

        {% if block.settings.heading_7 == blank and block.settings.text_7 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_7 %}
              <h3>{{ block.settings.heading_7 }}</h3>
            {% endif %}
            {% if block.settings.text_7 %}
              <p>{{ block.settings.text_7 }}</p>
            {% endif %}
          </div>
        {% endif %}

        {% if block.settings.heading_8 == blank and block.settings.text_8 == blank %}
        {% else %}
          <div class="faq-item">
            {% if block.settings.heading_8 %}
              <h3>{{ block.settings.heading_8 }}</h3>
            {% endif %}
            {% if block.settings.text_8 %}
              <p>{{ block.settings.text_8 }}</p>
            {% endif %}
          </div>
        {% endif %}
      </div>
    </div>
  {% endfor %}

  <div class="dots-container">
    {% for block in section.blocks %}
      <div class="dot {% if forloop.first %}active{% endif %}" data-dot="{{ forloop.index }}"></div>
    {% endfor %}
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const tabs = document.querySelectorAll(".faq-tab-button");
    const contents = document.querySelectorAll(".faq-tab-content");

    function activateTab(tabId) {
      contents.forEach(content => content.classList.remove('active'));
      tabs.forEach(tab => tab.classList.remove('active'));

      document.querySelector(`#${tabId}`).classList.add('active');
      document.querySelector(`.faq-tab-button[data-tab="${tabId}"]`).classList.add('active');
    }

    tabs.forEach(tab => {
      tab.addEventListener('click', function() {
        activateTab(this.getAttribute('data-tab'));
      });
    });

    const initialActiveTab = document.querySelector('.faq-tab-button.active');
    if (initialActiveTab) {
      activateTab(initialActiveTab.getAttribute('data-tab'));
    }
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const faqWrapper = document.querySelector('.faq-grid');
    const faqItems = document.querySelectorAll('.faq-item');
    const dots = document.querySelectorAll('.dot');

    function setActiveDot(index) {
      dots.forEach(dot => dot.classList.remove('active'));
      dots[index].classList.add('active');
    }

    faqWrapper.addEventListener('scroll', function() {
      const scrollLeft = faqWrapper.scrollLeft;
      const itemWidth = faqItems[0].offsetWidth;
      const currentIndex = Math.round(scrollLeft / itemWidth);

      setActiveDot(currentIndex);
    });

    dots.forEach((dot, index) => {
      dot.addEventListener('click', function() {
        const itemWidth = faqItems[0].offsetWidth;
        const scrollAmount = itemWidth * index;
        faqWrapper.scrollTo({ left: scrollAmount, behavior: 'smooth' });
        setActiveDot(index);
      });
    });
  });
</script>

{% schema %}
{
  "name": "FAQ Section with Tabs",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Frequently Asked Questions"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Section Subtitle",
      "default": "Find answers to the most common questions below."
    }
  ],
  "blocks": [
    {
      "type": "faq_block",
      "name": "FAQ Block",
      "settings": [
        {
          "type": "text",
          "id": "tab_title",
          "label": "Tab Title"
        },
        {
          "type": "text",
          "id": "heading_1",
          "label": "FAQ Heading 1"
        },
        {
          "type": "textarea",
          "id": "text_1",
          "label": "FAQ Text 1"
        },
        {
          "type": "text",
          "id": "heading_2",
          "label": "FAQ Heading 2"
        },
        {
          "type": "textarea",
          "id": "text_2",
          "label": "FAQ Text 2"
        },
        {
          "type": "text",
          "id": "heading_3",
          "label": "FAQ Heading 3"
        },
        {
          "type": "textarea",
          "id": "text_3",
          "label": "FAQ Text 3"
        },
        {
          "type": "text",
          "id": "heading_4",
          "label": "FAQ Heading 4"
        },
        {
          "type": "textarea",
          "id": "text_4",
          "label": "FAQ Text 4"
        },
        {
          "type": "text",
          "id": "heading_5",
          "label": "FAQ Heading 5"
        },
        {
          "type": "textarea",
          "id": "text_5",
          "label": "FAQ Text 5"
        },
        {
          "type": "text",
          "id": "heading_6",
          "label": "FAQ Heading 6"
        },
        {
          "type": "textarea",
          "id": "text_6",
          "label": "FAQ Text 6"
        },
        {
          "type": "text",
          "id": "heading_7",
          "label": "FAQ Heading 7"
        },
        {
          "type": "textarea",
          "id": "text_7",
          "label": "FAQ Text 7"
        },
        {
          "type": "text",
          "id": "heading_8",
          "label": "FAQ Heading 8"
        },
        {
          "type": "textarea",
          "id": "text_8",
          "label": "FAQ Text 8"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQ Section",
      "category": "Custom",
      "blocks": [
        {
          "type": "faq_block",
        }
      ]
    }
  ]
}
{% endschema %}
